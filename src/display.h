#ifndef DISPLAY_H
#define DISPLAY_H
#pragma once
#include <Arduino.h>
#include "Global.h"
#include "ui.h"
// Access to menu state already available via global.h

const unsigned char sineIcon [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x03, 0xe0, 0x00, 0x00, 0x0c, 0x18, 0x00, 0x00, 0x10, 0x04, 0x00, 0x00, 0x20, 0x06, 0x00, 0x00, 
	0x40, 0x02, 0x00, 0x00, 0x80, 0x01, 0x00, 0x00, 0x80, 0x01, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 
	0x00, 0x00, 0x40, 0x01, 0x00, 0x00, 0x40, 0x02, 0x00, 0x00, 0x20, 0x06, 0x00, 0x00, 0x10, 0x0c, 
	0x00, 0x00, 0x08, 0x18, 0x00, 0x00, 0x06, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

// Square wave 32x32 icon
const unsigned char squareIcon [] PROGMEM = {
 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xf8, 0x0f, 0xf8, 0x30, 0x18, 0x08, 0x08, 
	0x30, 0x18, 0x08, 0x08, 0x30, 0x18, 0x08, 0x08, 0x30, 0x18, 0x08, 0x08, 0x30, 0x18, 0x08, 0x08, 
	0x30, 0x18, 0x08, 0x08, 0xf0, 0x1f, 0xf8, 0x0c, 0xf0, 0x1f, 0xf8, 0x0f, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

// Sawtooth wave 32x32 icon
const unsigned char sawIcon [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x20, 
	0x00, 0x60, 0x00, 0x60, 0x00, 0xe0, 0x00, 0x60, 0x00, 0xa0, 0x00, 0xe0, 0x01, 0x20, 0x00, 0xa0, 
	0x02, 0x20, 0x01, 0xa0, 0x04, 0x20, 0x03, 0x20, 0x08, 0x20, 0x02, 0x20, 0x18, 0x20, 0x04, 0x20, 
	0x10, 0x20, 0x08, 0x20, 0x20, 0x20, 0x10, 0x20, 0x40, 0x20, 0x20, 0x20, 0x80, 0x20, 0x40, 0x20, 
	0x80, 0x20, 0xc0, 0x20, 0x00, 0x20, 0x80, 0x20, 0x00, 0x21, 0x00, 0x20, 0x00, 0x22, 0x00, 0x20, 
	0x00, 0x24, 0x00, 0x23, 0x00, 0x28, 0x00, 0x24, 0x00, 0x30, 0x00, 0x28, 0x00, 0x20, 0x00, 0x30, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};

// Triangle wave 32x32 icon
const unsigned char triangleIcon [] PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 
	0x00, 0xa0, 0x00, 0x00, 0x01, 0x20, 0x00, 0x00, 0x01, 0x10, 0x00, 0x00, 0x02, 0x10, 0x00, 0x00, 
	0x04, 0x08, 0x00, 0x00, 0x04, 0x04, 0x00, 0x00, 0x08, 0x04, 0x00, 0x00, 0x10, 0x02, 0x00, 0x01, 
	0x10, 0x02, 0x00, 0x02, 0x20, 0x01, 0x00, 0x04, 0x40, 0x00, 0x80, 0x04, 0x40, 0x00, 0x80, 0x08, 
	0x80, 0x00, 0x40, 0x10, 0x00, 0x00, 0x20, 0x10, 0x00, 0x00, 0x20, 0x20, 0x00, 0x00, 0x10, 0x40, 
	0x00, 0x00, 0x08, 0xc0, 0x00, 0x00, 0x08, 0x80, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x07, 0x00, 
	0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

enum MenuState {
  MENU_VOLUME,
  MENU_FILTER,
  MENU_OSC_MIX,
  MENU_WAVEFORM,
  MENU_COUNT
};

extern const uint8_t iconSine[];
extern const uint8_t iconSaw[];
extern const uint8_t iconTriangle[];
extern const uint8_t iconSquare[];

void setupOLED();
void drawMenuScreen();
void nextMenu();
void prevMenu();
void drawWaveformIcon();

#endif
